{% extends "base.html" %}
{% block title %}تعديل: {{ article.title }}{% endblock %}

{% block content %}
<section class="add-article">
    <div class="container">
        <h1 class="page-title">تعديل المقال</h1>
        
        <form method="post" action="/articles/edit/{{ article.id }}" enctype="multipart/form-data" class="glass-form">
            <input type="hidden" name="csrf_token" value="{{ csrf_token }}">

            <div class="form-group">
                <label>العنوان</label>
                <input type="text" name="title" value="{{ article.title }}" required>
            </div>

            <div class="form-group">
                <label>المحتوى</label>
                <textarea name="content" rows="12" required>{{ article.content }}</textarea>
            </div>

            <div class="form-group">
                <label>تغيير الصورة (اتركه فارغًا إذا لا تريد التغيير)</label>
                {% if article.image_url %}
                <p>الصورة الحالية: <img src="{{ article.image_url }}" style="max-height:200px;"></p>
                {% endif %}
                <input type="file" name="image" accept="image/*">
            </div>

            <div class="form-actions">
                <button type="submit" class="btn-success">حفظ التعديلات</button>
                <a href="/articles/{{ article.id }}" class="btn-secondary">إلغاء</a>
            </div>
        </form>
    </div>
</section>
{% endblock %}