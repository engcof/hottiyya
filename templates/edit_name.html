{% extends "base.html" %}
{% block title %}ุชุนุฏูู ุจูุงูุงุช ุงูุนุถู{% endblock %}
{% block content %}
<div class="container mt-4">
  <h3>โ๏ธ ุชุนุฏูู ุจูุงูุงุช ุงูุนุถู: {{ member.name }}</h3>
  <!-- ุฑุณุงูุฉ ุงูุฎุทุฃ (ุฅู ูุฌุฏุช) -->
    {% if error %}
        <div class="alert alert-danger text-center">
            <strong>ุฎุทุฃ:</strong> {{ error }}
        </div>
    {% endif %}

  <form action="/names/edit/{{ member.code }}" method="post" enctype="multipart/form-data" class="row g-3">
    <div class="col-md-3">
      <label class="form-label">ุงูููุฏ</label>
      <input type="text" class="form-control" value="{{ member.code }}" readonly>
    </div>

    <div class="col-md-6">
      <label class="form-label">ุงูุงุณู</label>
      <input type="text" name="name" class="form-control" required value="{{ member.name }}">
    </div>

    <div class="col-md-3">
      <label class="form-label">ุงูููุน</label>
      <select name="type" class="form-select">
        <option value="ุงุจู" {% if member.type == 'ุงุจู' %}selected{% endif %}>ุงุจู</option>
        <option value="ุงุจูุฉ" {% if member.type == 'ุงุจูุฉ' %}selected{% endif %}>ุงุจูุฉ</option>
        <option value="ุฒูุฌ" {% if member.type == 'ุฒูุฌ' %}selected{% endif %}>ุฒูุฌ</option>
        <option value="ุฒูุฌุฉ" {% if member.type == 'ุฒูุฌุฉ' %}selected{% endif %}>ุฒูุฌุฉ</option>
      </select>
    </div>

    <div class="col-md-3">
      <label class="form-label">ููุฏ ุงูุฃุจ</label>
      <input type="text" name="f_code" class="form-control" value="{{ member.f_code or '' }}">
    </div>

    <div class="col-md-3">
      <label class="form-label">ููุฏ ุงูุฃู</label>
      <input type="text" name="m_code" class="form-control" value="{{ member.m_code or '' }}">
    </div>

    <div class="col-md-3">
      <label class="form-label">ููุฏ ุงูุฒูุฌ/ุงูุฒูุฌุฉ</label>
      <input type="text" name="w_code" class="form-control" value="{{ member.w_code or member.h_code or '' }}">
    </div>

    <div class="col-md-3">
      <label class="form-label">ุงููุณุชูู</label>
      <input type="number" name="level" class="form-control" value="{{ member.level or '' }}">
    </div>

    <hr class="mt-4">

    <div class="col-md-3">
      <label class="form-label">ุงูุฌูุณ</label>
      <select name="gender" class="form-select">
        <option value="ุฐูุฑ" {% if info and info.gender == 'ุฐูุฑ' %}selected{% endif %}>ุฐูุฑ</option>
        <option value="ุฃูุซู" {% if info and info.gender == 'ุฃูุซู' %}selected{% endif %}>ุฃูุซู</option>
      </select>
    </div>

    <div class="col-md-3">
      <label class="form-label">ุชุงุฑูุฎ ุงููููุงุฏ</label>
      <input type="date" name="d_o_b" class="form-control" value="{{ info.d_o_b if info else '' }}">
    </div>

    <div class="col-md-3">
      <label class="form-label">ุชุงุฑูุฎ ุงูููุงุฉ</label>
      <input type="date" name="d_o_d" class="form-control" value="{{ info.d_o_d if info else '' }}">
    </div>

    <div class="col-md-3">
      <label class="form-label">ุงูุจุฑูุฏ ุงูุฅููุชุฑููู</label>
      <input type="email" name="email" class="form-control" value="{{ info.email if info else '' }}">
    </div>

    <div class="col-md-3">
      <label class="form-label">ุฑูู ุงููุงุชู</label>
      <input type="text" name="phone" class="form-control" value="{{ info.phone if info else '' }}">
    </div>

    <div class="col-md-6">
      <label class="form-label">ุงูุนููุงู</label>
      <input type="text" name="address" class="form-control" value="{{ info.address if info else '' }}">
    </div>

    <div class="col-md-6">
      <label class="form-label">ููุงู ุงููููุงุฏ</label>
      <input type="text" name="p_o_b" class="form-control" value="{{ info.p_o_b if info else '' }}">
    </div>

    <div class="col-md-6">
      <label class="form-label">ุชุญุฏูุซ ุงูุตูุฑุฉ (ุงุฎุชูุงุฑู)</label>
      <input type="file" name="picture" class="form-control">
    </div>

    <div class="col-12 text-center mt-4">
      <button type="submit" class="btn btn-primary">๐พ ุญูุธ ุงูุชุนุฏููุงุช</button>
      <a href="/names/details/{{ member.code }}" class="btn btn-secondary">๐ ุฅูุบุงุก</a>
    </div>
  </form>
</div>
{% endblock %}
